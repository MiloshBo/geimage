import requests
from bs4 import BeautifulSoup
import webbrowser
import os

url = 'http://xkcd.com/1/'
url_get = requests.get(url)
soup = BeautifulSoup(url_get.content, 'lxml')
text = soup.select_one('#ctitle').text
link = soup.find('div', id='comic').find('img').get('src')
link = link.replace('//', 'http://')

# Image title and link
print(f'{text}\n{link}')

# Download image
img_name = os.path.basename(link)     # works without os.path
img = requests.get(link)              # code actually works
with open(img_name, 'wb') as f_out:   # without
	f_out.write(img.content)          # these 3 lines

# Open image in browser or default image viewer
webbrowser.open_new_tab(img_name)
